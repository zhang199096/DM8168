#ifndef COMMON_H
#define COMMON_H



#ifndef DATA_TYPES
#define DATA_TYPES
typedef unsigned char    Uint8;
typedef unsigned short   Uint16;
typedef unsigned int     Uint32;
typedef unsigned long    Uint40;
typedef short            Int16;
typedef int              Int32;
typedef float           	float32;
typedef double	     	float64;
#endif

#define FALSE  0
#define False  0
#define false  0

#define TRUE  1
#define True  1
#define true  1

#define NOCODERUN		0
#define STDCODERUN		1
#define SPCCODERUN		2

#define Over_Signal_Invalid	0
#define Over_Signal_Valid	1
#define Alarm_Signal_Invalid	0
#define Alarm_Signal_Valid	1
#define Inposition_Signal_Invalid	1
#define Inposition_Signal_Valid	0
#define HardLimit_Signal_Invalid	0
#define HardLimit_Signal_Valid	1
#define FindRefSign_Invalid	0
#define FindRefSign_Valid		1


#define	GPIO_IN_Valid 1
#define	GPIO_IN_Invalid 0

#define	GPIO_OUT_OPEN 0
#define	GPIO_OUT_CLOSE 1

#define LensMotionNormal 0
#define LensMotionCompensationRun 1
#define LensMotionCompensationOver 2

#define IntXX Int32
#define UintXX Uint32

#define  RealTimeRun		0		// ├К┬╡├К┬▒├Ф├Л├Р├Р
#define  SimulateRun		1		// ┬╖├В├Х├ж├Ф├Л├Р├Р

#define 		STDGCODE_MOD	1000
#define 		SPCGCODE_MOD	11
#define		ADDGCODEINCUBATOR_MOD	21
#define 		COMPBUFFERLENGTH	1000

#define 	VNowMIN		0.0001	// ┬╡┬▒├З┬░├К┬╡┬╝├К├Ф├Л├Р├Р├Л├Щ┬╢├И├Ч├о├Р┬б├Ц┬╡. (mm/s)
#define	ShortLineLengh	0.0055	// ├Т├м┬│┬г├Р┬б├П├Я┬╢├О├Ц┬╡┬╢┬и├Т├еunit:mm
#define	MovePositive	1		// ├Х├╜├П├▓├Т├Ж┬╢┬п
#define	MoveNegtive	0		// ┬╕┬║├П├▓├Т├Ж┬╢┬п

//CH0603
#define 	StaticTrackLimit		0.5		//┬╛┬▓├М┬м┬╣├м┬╝┬г├Е├Р┬╢┬и┬╜├з├П├Ю0.5mm  CH0603
#define 	Max_StaticErrorTimes 1000	//┬╛┬▓├М┬м┬╣├м┬╝┬г├Е├Р┬╢┬и├Ц├Ь├Ж├Ъ├Ф┬╝1s

#define  REF_XYZ			0	//├Ч├╕┬▒├к├П┬╡├О┬к3 ├Ч├╕┬▒├к
#define  REF_XYZA		1	//├Ч├╕┬▒├к├П┬╡├О┬к3+A ├Ч├╕┬▒├к
#define  REF_XYZB		2	//├Ч├╕┬▒├к├П┬╡├О┬к3+B ├Ч├╕┬▒├к
#define  REF_XYZC		3	//├Ч├╕┬▒├к├П┬╡├О┬к3+C ├Ч├╕┬▒├к


#define DA_CH1	1
#define DA_CH2	2
#define DA_CH3	3
#define DA_CH4	4
#define DA_CH5	5
#define DA_CH6	6
#define DA_CH7	7
#define DA_CH8	8
#define DA_CH9	9


#define  	INTERPOLATIONBUFLENGTH 100
#define  	SPC_INTERPOLATIONBUFLENGTH 40
  
typedef struct
{
	Int32 Axis1;
	Int32 Axis2;
	Int32 Axis3;
	Int32 Axis4;
	Int32 Axis5;
	Int32 Axis6;	
	Int32 Axis7;
	Int32 Axis8;
	Int32 Axis9;
	Int32 Axis10;
	Int32 Axis11;
	Int32 Axis12;
	Int32 Axis13;
	Int32 Axis14;
	Int32 Axis15;
	Int32 Axis16;	
	Int32 Axis17;
	Int32 Axis18;
	Int32 Axis19;
	Int32 Axis20;
	Int32 Axis21;
	Int32 Axis22;
	Int32 Axis23;
	Int32 Axis24;
	Int32 Axis25;
}INT40AXIS;  


typedef struct
{
	Uint32 Axis1;
	Uint32 Axis2;
	Uint32 Axis3;
	Uint32 Axis4;
	Uint32 Axis5;
	Uint32 Axis6;	
	Uint32 Axis7;
	Uint32 Axis8;
	Uint32 Axis9;
	Uint32 Axis10;
	Uint32 Axis11;
	Uint32 Axis12;
	Uint32 Axis13;
	Uint32 Axis14;
	Uint32 Axis15;
	Uint32 Axis16;	
	Uint32 Axis17;
	Uint32 Axis18;
	Uint32 Axis19;
	Uint32 Axis20;
	Uint32 Axis21;
	Uint32 Axis22;
	Uint32 Axis23;
	Uint32 Axis24;
	Uint32 Axis25;
}UINT40AXIS;     

typedef struct
{
	Uint16 Axis1;
	Uint16 Axis2;
	Uint16 Axis3;
	Uint16 Axis4;
	Uint16 Axis5;
	Uint16 Axis6;	
	Uint16 Axis7;
	Uint16 Axis8;
	Uint16 Axis9;
	Uint16 Axis10;
	Uint16 Axis11;
	Uint16 Axis12;
	Uint16 Axis13;
	Uint16 Axis14;
	Uint16 Axis15;
	Uint16 Axis16;	
	Uint16 Axis17;
	Uint16 Axis18;
	Uint16 Axis19;
	Uint16 Axis20;
	Uint16 Axis21;
	Uint16 Axis22;
	Uint16 Axis23;
	Uint16 Axis24;
	Uint16 Axis25;
}UINT16AXIS;     

typedef struct
{
	Int16 Axis1;
	Int16 Axis2;
	Int16 Axis3;
	Int16 Axis4;
	Int16 Axis5;
	Int16 Axis6;	
	Int16 Axis7;
	Int16 Axis8;
	Int16 Axis9;
	Int16 Axis10;
	Int16 Axis11;
	Int16 Axis12;
	Int16 Axis13;
	Int16 Axis14;
	Int16 Axis15;
	Int16 Axis16;	
	Int16 Axis17;
	Int16 Axis18;
	Int16 Axis19;
	Int16 Axis20;
	Int16 Axis21;
	Int16 Axis22;
	Int16 Axis23;
	Int16 Axis24;
	Int16 Axis25;
}INT16AXIS;     

typedef struct
{
	Uint8 Axis1;
	Uint8 Axis2;
	Uint8 Axis3;
	Uint8 Axis4;
	Uint8 Axis5;
	Uint8 Axis6;	
	Uint8 Axis7;
	Uint8 Axis8;
	Uint8 Axis9;
	Uint8 Axis10;
	Uint8 Axis11;
	Uint8 Axis12;
	Uint8 Axis13;
	Uint8 Axis14;
	Uint8 Axis15;
	Uint8 Axis16;	
	Uint8 Axis17;
	Uint8 Axis18;
	Uint8 Axis19;
	Uint8 Axis20;
	Uint8 Axis21;
	Uint8 Axis22;
	Uint8 Axis23;
	Uint8 Axis24;
	Uint8 Axis25;
}UINT8AXIS;   

typedef struct
{
	float64 Axis1;
	float64 Axis2;
	float64 Axis3;
	float64 Axis4;
	float64 Axis5;
	float64 Axis6;	
	float64 Axis7;
	float64 Axis8;
	float64 Axis9;
	float64 Axis10;
	float64 Axis11;
	float64 Axis12;
	float64 Axis13;
	float64 Axis14;
	float64 Axis15;
	float64 Axis16;	
	float64 Axis17;
	float64 Axis18;
	float64 Axis19;
	float64 Axis20;
	float64 Axis21;
	float64 Axis22;
	float64 Axis23;
	float64 Axis24;
	float64 Axis25;
}float64AXIS;     

typedef struct
{
	float64 Axis1;
	float64 Axis2;
	float64 Axis3;
	float64 Axis4;
	float64 Axis5;
	float64 Axis6;	
	float64 Axis7;
	float64 Axis8;
	float64 Axis9;
	float64 Axis10;
	float64 Axis11;
	float64 Axis12;
	float64 Axis13;
	float64 Axis14;
	float64 Axis15;
	float64 Axis16;	
	float64 Axis17;
	float64 Axis18;
	float64 Axis19;
	float64 Axis20;
	float64 Axis21;
	float64 Axis22;
	float64 Axis23;
	float64 Axis24;
	float64 Axis25;
}VECTOR;    
typedef struct
{
	Int32 Module1;
	Int32 Module2;
	Int32 Module3;
	Int32 Module4;
	Int32 Module5;
	Int32 Module6;	
	Int32 Module7;
	Int32 Module8;
	Int32 Module9;
	Int32 Module10;	
	Int32 Module11;
	Int32 Module12;
}INT40MODULE;  


typedef struct
{
	Uint32 Module1;
	Uint32 Module2;
	Uint32 Module3;
	Uint32 Module4;
	Uint32 Module5;
	Uint32 Module6;	
	Uint32 Module7;
	Uint32 Module8;
	Uint32 Module9;
	Uint32 Module10;	
	Uint32 Module11;
	Uint32 Module12;
}UINT40MODULE;     

typedef struct
{
	Uint16 Module1;
	Uint16 Module2;
	Uint16 Module3;
	Uint16 Module4;
	Uint16 Module5;
	Uint16 Module6; 
	Uint16 Module7;
	Uint16 Module8;
	Uint16 Module9;
	Uint16 Module10; 
	Uint16 Module11;
	Uint16 Module12;
}UINT16MODULE;     

typedef struct
{
	Int16 Module1;
	Int16 Module2;
	Int16 Module3;
	Int16 Module4;
	Int16 Module5;
	Int16 Module6; 
	Int16 Module7;
	Int16 Module8;
	Int16 Module9;
	Int16 Module10; 
	Int16 Module11;
	Int16 Module12;
}INT16MODULE;     

typedef struct
{
	Uint8 Module1;
	Uint8 Module2;
	Uint8 Module3;
	Uint8 Module4;
	Uint8 Module5;
	Uint8 Module6; 
	Uint8 Module7;
	Uint8 Module8;
	Uint8 Module9;
	Uint8 Module10; 
	Uint8 Module11;
	Uint8 Module12;
}
UINT8MODULE;   

typedef struct
{
	float64 Module1;
	float64 Module2;
	float64 Module3;
	float64 Module4;
	float64 Module5;
	float64 Module6; 
	float64 Module7;
	float64 Module8;
	float64 Module9;
	float64 Module10;
	float64 Module11;
	float64 Module12;
}float64MODULE;     

typedef struct
{
	float64 Module1;
	float64 Module2;
	float64 Module3;
	float64 Module4;
	float64 Module5;
	float64 Module6; 
	float64 Module7;
	float64 Module8;
	float64 Module9;
	float64 Module10; 
	float64 Module11;
	float64 Module12;
}VECTOR_MODULE;     

typedef struct
{
	Uint32	Pointer_StartCode;								//┬╖├Ц┬╜├в┬┤├║├В├л┬г┬м├З├╕├У├▓├Ж├░├К┬╝┬┤├║├В├л┬╢├О├Ц┬╕├Х├л
	Uint32	Pointer_EndCode;								//┬╖├Ц┬╜├в┬┤├║├В├л┬г┬м├З├╕├У├▓├Ц├Х├Ц┬╣┬┤├║├В├л┬╢├О├Ц┬╕├Х├л
	Uint32	Pointer_FirstInflexionCode;				//┬╖├Ц┬╜├в┬┤├║├В├л┬г┬м├З├╕├У├▓├Т┬╗┬┤├О┬╣├Х┬╡├г┬┤├║├В├л┬╢├О├Ц┬╕├Х├л
	Uint32	Pointer_SecondInflexionCode;		//┬╖├Ц┬╜├в┬┤├║├В├л┬г┬м├З├╕├У├▓┬╢├╛┬┤├О┬╣├Х┬╡├г┬┤├║├В├л┬╢├О├Ц┬╕├Х├л
	float64MODULE	Ss_Module;		
	float64	Stotal;						//├З├╕├У├▓├Д├Ъ├Л├╣├У├Р┬┤├║├В├л├Ч├Ь├Ф├Л├Р├Р┬│┬д┬╢├И mm
	float64MODULE 	Stotal_Module;
	float64MODULE 	CurrentStotal_Module;
	float64MODULE 	CurrentStotalLast_Module;
	float64MODULE 	Snow_Module;
	float64MODULE 	DeltaSnow_Module;
	Uint32	I;		//┬▓├е┬▓┬╣├Р├▓┬║├Е [1,+├О├Ю├З├о)
	UINT40MODULE I_Module;

	UINT40MODULE TotalN_Module;	//├Ч├Ь┬▓├е┬▓┬╣├К├╜	TotalN=T5/Tsample
	float64MODULE	Vs_Module;		//┬╡┬▒├З┬░├Ф├Л├Р├РG┬┤├║├В├л├Ж├░┬╡├г├Ф├Л├Р├Р├Л├Щ┬╢├И. (mm/s)
	float64			Vm;
	float64MODULE	Vm_Module;		// ┬╡┬▒├З┬░├Ф├Л├Р├РG┬┤├║├В├л├Й├и┬╢┬и├Ф├Л├Р├Р├Л├Щ┬╢├И. (mm/s)
	float64MODULE	VmReal_Module;	// ┬╡┬▒├З┬░├Ф├Л├Р├РG┬┤├║├В├л├К┬╡┬╝├К├Ч├о┬╕├Я├Ф├Л├Р├Р├Л├Щ┬╢├И. (mm/s)
	float64MODULE	Ve_Module;			// ┬╡┬▒├З┬░├Ф├Л├Р├РG┬┤├║├В├л├Ц├Х┬╡├г├Ф├Л├Р├Р├Л├Щ┬╢├И. (mm/s)
	float64MODULE 	VNow_Module;		// ┬╡┬▒├З┬░├К┬╡┬╝├К├Ф├Л├Р├Р├Л├Щ┬╢├И. (mm/s)
	float64 			VMin;		// ┬╡┬▒├З┬░├Ч├о├Р┬б├Ф├Л├Р├Р├Л├Щ┬╢├И. (mm/s)
	float64MODULE 	VMin_Module;		// ┬╡┬▒├З┬░├Ч├о├Р┬б├Ф├Л├Р├Р├Л├Щ┬╢├И. (mm/s)
	INT16U  			VChangeSign;	//├Л├Щ┬╢├И┬╡┬╡┬▒├д┬╗┬п┬▒├к├Ц┬╛┬г┬м├Р├и├Ц├Ш├Р├В┬╝├Ж├Л├г┬╝├У┬╝├╡├Л├Щ├З├║├П├Я
	float64MODULE 	SnowLast_Module;		//┬╡┬▒├З┬░┬┤├║├В├л├Й├П┬┤├О┬▓├е┬▓┬╣├Ч├Ь├Ф├Л├Р├Р┬│┬д┬╢├И mm
	float64MODULE	Sac_Module;				//┬╡┬▒├З┬░┬┤├║├В├л┬╝├У├Л├Щ┬╣├╜┬│├М├Л├╣├Р├и┬╛├а├А├л(mm)
	float64MODULE	Sm_Module;					//┬╡┬▒├З┬░┬┤├║├В├л├О├И├Л├Щ┬╣├╜┬│├М├Л├╣├Р├и┬╛├а├А├л(mm)
	float64MODULE	Sde_Module;				//┬╡┬▒├З┬░┬┤├║├В├л┬╝├╡├Л├Щ┬╣├╜┬│├М├Л├╣├Р├и┬╛├а├А├л(mm)
	float64MODULE	SA_Module;					//├Ж├░┬╡├г├Т├С├У├Р┬╡├Д┬▓├е┬▓┬╣┬╛├а├А├л mm     ***├Н┬г├У├Г
	float64MODULE	S1_Module;					//├Е├Ч├О├п├П├ЯAB┬╗├╜┬╖├Ц├Г├ж┬╗├╜ mm
	float64MODULE	S2_Module;					//├Е├Ч├О├п├П├ЯBC┬╗├╜┬╖├Ц├Г├ж┬╗├╜ mm
	float64MODULE	S3_Module;					//├Ц┬▒├П├ЯCD┬╗├╜┬╖├Ц├Г├ж┬╗├╜ mm
	float64MODULE	S4_Module;					//├Е├Ч├О├п├П├ЯDE┬╗├╜┬╖├Ц├Г├ж┬╗├╜ mm
	float64MODULE	S5_Module;					//├Е├Ч├О├п├П├ЯEF┬╗├╜┬╖├Ц├Г├ж┬╗├╜ mm
	float64MODULE	T1_Module;					//┬┤├УA┬╡┬╜B├Л├╣├У├Г├К┬▒┬╝├д	s
	float64MODULE	T2_Module;					//┬┤├УA┬╡┬╜C├Л├╣├У├Г├К┬▒┬╝├д	s
	float64MODULE	T3_Module;					//┬┤├УA┬╡┬╜D├Л├╣├У├Г├К┬▒┬╝├д	s
	float64MODULE	T4_Module;					//┬┤├УA┬╡┬╜E├Л├╣├У├Г├К┬▒┬╝├д	s
	float64MODULE	T5_Module;					//┬┤├УA┬╡┬╜F├Л├╣├У├Г├К┬▒┬╝├д	s
	float64MODULE	DeltaT1_Module;			//AB├Л├╣├У├Г├К┬▒┬╝├д	s
	float64MODULE	DeltaT2_Module;			//BC├Л├╣├У├Г├К┬▒┬╝├д	s
	float64MODULE	DeltaT3_Module;			//CD├Л├╣├У├Г├К┬▒┬╝├д	s
	float64MODULE	DeltaT4_Module;			//DE├Л├╣├У├Г├К┬▒┬╝├д	s
	float64MODULE	DeltaT5_Module;			//EF├Л├╣├У├Г├К┬▒┬╝├д	s

	float64MODULE 	a_ac_Module;				
	float64MODULE 	a_de_Module;
	
	float64MODULE 	CurrentT_Module;
	float64			CurrentT;
	VECTOR	Cosine;				// ┬▓├е┬▓┬╣├Ц├б┬╖┬╜├П├▓┬╝├Р┬╜├З├У├а├П├Т
	INT40AXIS	DeltaStep;			// ├Ц┬▒├П├Я├Ц├Р├Г┬┐┬╢├Оx├У┬ж├Ч├Я┬╛├а├А├л  unit:pulse(├К├д┬│├╢├Ц┬╕├Б├о┬╡┬е├О┬╗)
	INT40AXIS	NowValue;			// ┬╡┬▒├З┬░┬▓├е┬▓┬╣┬╡├г├Ч├╕┬▒├к├О┬╗├Ц├Г├Ц┬╡--├Ч├о├Р┬б├К├д├И├л┬╡┬е├О┬╗
	INT40AXIS	OldValue;			// ├З┬░├Т┬╗┬▓├е┬▓┬╣┬╡├г├Ч├╕┬▒├к├О┬╗├Ц├Г├Ц┬╡--├Ч├о├Р┬б├К├д├И├л┬╡┬е├О┬╗
	INT40AXIS	NowPointMACHPulseOut;
	INT40AXIS	OldPointMACHPulseOut;	
	INT40AXIS	EndPointMachPulseOut;

	UINT16MODULE SpeedState;		//├З├╕├У├▓├Л├Щ┬╢├И├Ч┬┤├М┬м
	Uint16		ri;						//200 ┬╗┬║┬│├е├З├╕├Ф├Л├Р├Р├И┬б├Д┬г├Ц┬╕├Х├л
	Uint16		ZeroPulseSign;				//├Б├г├В├╢┬│├е┬▒├к├Ц┬╛,1├О┬к├Б├г├В├╢┬│├е
}AREA_CONTROL;

//┬╝├З├Т├д┬┤├║├В├л┬╡├Д├Т├Ж┬╢┬п┬╖┬╜├П├▓┬г┬м├У├Г├У├Ъ┬╖┬┤┬╖┬╜├П├▓┬╝├╡├Л├Щ┬┤┬ж├А├н
typedef struct
{
UINT16AXIS	MoveSign;				// 1-positive 0-negtive 
INT40AXIS	Delta;					// ┬┤├║├В├л┬▒├д┬╗┬п├Б┬┐um
float64		TotalLength;			// ┬┤├║├В├л├Ч├Ь┬│┬дmm
}PRECALMOVESIGN;

//CH0512
typedef struct
{
	Uint32 				SendCount;		
	Uint32 				CMDMain,SubCMD1,SubCMD2;		
	INT40AXIS			StartPoint,EndPoint; 
	float64AXIS			DeltaPoint;		
	float64 				Stotal;			
	float64MODULE 		Stotal_Module;			
	float64 				Feedrate;			
	float64MODULE 		Feedrate_Module;				
	float64 				Vm;				
	float64MODULE 		Vm_Module;			
	float64 				Ve;						
	float64MODULE 		Ve_Module;						
	float64MODULE 		Vveer_Module;	

	VECTOR  				StPointVector;		
	VECTOR  				EndPointVector;	
	INT16U				MoveCodeSign;
	Uint16				VeCalSign;		
	Uint16				VmCalSign;		
	Uint8				PositionStep;
}GCODE;

//├Ч├Ь├М├е┬▒├к├Ц┬╛┬║├Н┬▒├д├Б┬┐├У├Г┬╜├б┬╣┬╣├М├е
typedef struct
{
	Uint16 	NCSign;  
	// 0:├Н┬и┬│┬г├Ч┬┤├М┬м  1:┬▒├к├Ч┬╝┬┤├║├В├л┬г┬╗2:├М├Ш├К├в┬┤├║├В├л-JOG HANDLE REF┬г┬╗INI=0
	
	//├Л├Щ┬╢├И┬┐├Ш├Ц├Ж├П├а┬╣├Ш┬▓├О├К├╜
	Uint16	LastFeedrateOverride;		//├Й├П┬┤├О┬╜├╕┬╕├╕├Л├Щ┬╢├И┬╡┬╡├О┬╗
	Uint16	LastRapidFeedrateOverride;	//├Й├П┬┤├О┬┐├м┬╜├╕├Л├Щ┬╢├И┬╡┬╡├О┬╗
	Uint16 	FeedrateOverride;			//┬╜├╕┬╕├╕┬╡┬╡├О┬╗	[0-20]
	Uint16  RapidFeedrateOverride;		//G0┬┐├м├Л├Щ┬╜├╕┬╕├╕┬╡┬╡├О┬╗	[0-20]
	//CH0506 GCODE	LastMoveGCode;			//├Ф├Э┬┤├ж├Й├П├М├╡┬╖┬в├Л├Н├Ф├Л┬╢┬пG┬┤├║├В├л┬╜├б┬╣┬╣├Д├Ъ├И├Э
	GCODE	STDLastMoveGCode;			//├Ф├Э┬┤├ж├Й├П├М├╡┬╖┬в├Л├Н├Ф├Л┬╢┬пG┬┤├║├В├л┬╜├б┬╣┬╣├Д├Ъ├И├Э
	GCODE	SPCLastMoveGCode;			//├Ф├Э┬┤├ж├Й├П├М├╡┬╖┬в├Л├Н├Ф├Л┬╢┬пG┬┤├║├В├л┬╜├б┬╣┬╣├Д├Ъ├И├Э

	VECTOR	LastMoveCodeEndVector;	//├Й├П├Т┬╗├М├╡├Ф├Л┬╢┬пG┬┤├║├В├л├Ц├Х┬╡├г┬╖┬╜├П├▓├К┬╕├Б┬┐(┬┤├║├В├л├Ф┬д┬┤┬ж├А├н├У├Г)
	Uint16	EveryAxisCoinValid;		// ┬╕├╖├Ц├бCOIN ┬╢┬╝├У├Р├Р┬з┬▒├к├Ц┬╛
	Uint16	EveryAxisCoinValid1;		// ┬╕├╖├Ц├бCOIN ┬╢┬╝├У├Р├Р┬з┬▒├к├Ц┬╛
	Uint16	EveryAxisCoinValid2;		// ┬╕├╖├Ц├бCOIN ┬╢┬╝├У├Р├Р┬з┬▒├к├Ц┬╛
	Uint16	EveryAxisCoinValid3;		// ┬╕├╖├Ц├бCOIN ┬╢┬╝├У├Р├Р┬з┬▒├к├Ц┬╛
	Uint16	EveryAxisCoinValid4;		// ┬╕├╖├Ц├бCOIN ┬╢┬╝├У├Р├Р┬з┬▒├к├Ц┬╛
	Uint16	EveryAxisOverValid;		// ┬╕├╖├Ц├бOVER ┬╢┬╝├У├Р├Р┬з┬▒├к├Ц┬╛
	Uint16	EveryAxisOverValid1;		// ┬╕├╖├Ц├бOVER ┬╢┬╝├У├Р├Р┬з┬▒├к├Ц┬╛
	Uint16	EveryAxisOverValid2;		// ┬╕├╖├Ц├бOVER ┬╢┬╝├У├Р├Р┬з┬▒├к├Ц┬╛
	
	Uint16 	GetMachCoordinateRight;	//  1:┬╗├▒┬╡├Г┬╗├║┬┤┬▓├Ч├╕┬▒├к├Х├╜├И┬╖

INT40AXIS	AbsoluteEncoderValue_PSO;	
INT40AXIS	ABS_Coordinate;			// ┬╡┬▒├З┬░┬╛├╕┬╢├Ф├Ч├╕┬▒├к├Ц┬╡unit:├Ч├о├Р┬б├К├д├И├л┬╡┬е├О┬╗
INT40AXIS	ABSORG_M_Coordinate;	// ┬╡┬▒├З┬░┬╛├╕┬╢├Ф├Ч├╕┬▒├к├Ф┬н┬╡├г┬╡├Д┬╗├║┬┤┬▓├Ч├╕┬▒├к├Ц┬╡unit:├Ч├о├Р┬б├К├д├И├л┬╡┬е├О┬╗
INT40AXIS	ABSORG_Coordinate;	// ┬╡┬▒├З┬░┬╛├╕┬╢├Ф├Ч├╕┬▒├к├Ф┬н┬╡├г┬╡├Д┬╗├║┬┤┬▓├Ч├╕┬▒├к├Ц┬╡unit:├Ч├о├Р┬б├К├д├И├л┬╡┬е├О┬╗
UINT16AXIS	MoveSign;				// ┬╡┬▒├З┬░├Ф├Л┬╢┬п┬╖┬╜├П├▓1-positive 0-negtive
UINT16AXIS	TheoryMoveSign;			// ┬╡┬▒├З┬░┬┤├║├В├л├А├н├В├Ы┬╖┬╜├П├▓1-positive 0-negtive

Uint16	LastCodeOverSign;			//├Ч├о┬║├│├Т┬╗├М├╡┬┤├║├В├л├Ч├Я├Н├к┬▒├к├Ц┬╛  1┬г┬н├Ч├Я├Н├к
	GCODE		*LastGCodePointer;

	Uint16		Int4IdleSign_1;						//├Ц├Р┬╢├П4 ┬┐├Х├П├Р┬▒├к├Ц┬╛
	Uint16		Int4IdleSign_2;						//├Ц├Р┬╢├П4 ┬┐├Х├П├Р┬▒├к├Ц┬╛
	//Uint32		OverideCnt;
	Uint32		InterpolationSendCnt_1;		//┬╗┬║┬│├е├З├╕┬╖┬в├Л├Н├М├╡├К├╜
	Uint32		InterpolationRunCnt_1;		//┬╗┬║┬│├е├З├╕├Ф├Л├Р├Р├М├╡├К├╜
	Uint32		InterpolationSendCnt_2;		//┬╗┬║┬│├е├З├╕┬╖┬в├Л├Н├М├╡├К├╜
	Uint32		InterpolationRunCnt_2;		//┬╗┬║┬│├е├З├╕├Ф├Л├Р├Р├М├╡├К├╜

	Uint8		ParameterReadCompleteSign;
	Uint8		CameraNeedCaptureSign;			//╧р╗·╨ш╥к┼─╒╒▒ъ╓╛

	Uint8		CameraScanSign;			//╧р╗·╔и├ш▒ъ╓╛
	Uint8		CameraStaticCaptureSign;			//╧р╗·╛▓╓╣┼─╒╒▒ъ╓╛
	Uint8		MicroEScanSign;			//MicroE╔и├ш▒ъ╓╛
	Uint8		CameraSoftTriggerLedFlash;			
	Uint8		OpticalFlashSign;			//╔┴╣т╡╞╔┴╣т▒ъ╓╛
	Uint8		LensMotionAverageSign;
		
	Uint32		MicroEDataBaseStartCnt;
	Uint32		MicroEDataBaseEndCnt;
	Uint32		MicroEDataBaseTotalCnt;	

	INT8U	LEDFlashCtr1;
	INT8U 	LEDFlashCtr2;
	INT32U	LEDFlashTime1;
	INT32U	LEDFlashTime2;

	float64		JOGDistance;	
	float64		JOGFeedrate;
	Uint8		JOGDir;
	Uint8		JOGAxis;

	Uint8		LensMotionOverSign;
	
	UINT16AXIS	EncoderCompPt;				//▒р┬ы╞ў╖╟╧▀╨╘▓╣│е╝╞╦у╩¤╫щ╬╗╓├╓╕╒ы
	UINT16AXIS	PulseOutCompPt;				//┬Ў│х╩ф│Ў╖╟╧▀╨╘▓╣│е╝╞╦у╩¤╫щ╬╗╓├╓╕╒ы
}OVERALLSIGN;

typedef struct
{	
	float64		Tsample;					// 0				
	float64		Tsample1;					
	Uint8		SlaveMAX;					// 1
	float64		TrackRunOutRangeSQR;		// 2
	float64MODULE a_SET_Module;				// 3
	float64MODULE a_A4_SET_Module;			// 4
	float64 VeerDeltaV;					// 5	
	float64 NicetyVeerDeltaV;				// 6
	float64 VeerDeltaT;					// 7
	float64 NicetyVeerDeltaT;				// 8
	UINT16AXIS REFStopVariable;				// 9

	UINT16AXIS	EncoderCheckChoose;		// 10 (bit0~31)
	INT16AXIS	RefDir;					// 11 (bit0~31)
	INT32U LinearAxisMinUnit;				// 12 
	INT32U LinearAxisOutUnitEQU;			// 13	
	float64 	UnitTo_mm;					//mm/unit
	float64 G0Speed;						// 14	//mm/s
	float64 G0Speed_2;					// 15	//mm/s
	float64MODULE G0Speed_Module;		// 16-23	//mm/s
	float64 G1Speed;						// 24	//mm/s
	float64 G1Speed_2;					// 25	//mm/s
	float64MODULE G1Speed_Module;		// 26-33	//mm/s

	float64 SRefSpeed;					// 34	//mm/s
	float64 SRefSpeedBack;				// 35	//mm/s
	float64 SRefBack;						// 36
	float64 SRefSpeed_2;					// 37	//mm/s
	float64 SRefSpeedBack_2;				// 38	//mm/s
	float64 SRefBack_2;					// 39

	INT32U FunctionSelect01;				// 40
	INT32U FunctionSelect02;				// 41
	INT32U FunctionSelect03;				// 42
	INT32U FunctionSelect04;				// 43
	INT32U FunctionSelect05;				// 44
	INT32U FunctionSelect06;				// 45
	INT32U FunctionSelect07;				// 46
	INT32U FunctionSelect08;				// 47
	INT32U FunctionSelect09;				// 48
	INT32U FunctionSelect10;				// 49

	INT40AXIS	MotorChangeDir;
	INT40AXIS	EncoderRDDir;
	INT40AXIS	AxisResolution;
	INT40AXIS	CoordORG;
	float64AXIS	MAXSpeed;
	float64AXIS	REFStopPosition;
	INT40AXIS	SLimitPos;
	INT40AXIS 	SLimitNeg;
		
	Uint16	RunState;	
	Uint8	InPositionSign;
	Uint16	PULSE_PER_UM;	//[1-100]  ├Г┬┐um├П├а┬╡┬▒├В├╢┬│├е├К├╜   pulse/um
	Uint16	PWM_PeriodRegister_MIN;			// PWM  ├Ч├о├Р┬б├Р┬┤├И├л├Ц┬╡
	Uint16	PWM_PeriodRegister_MAX;			// PWM  ├Ч├о┬┤├│├Р┬┤├И├л├Ц┬╡
	Uint16	PWM_PeriodRegister_ZeroPeriod;	// LPM├О┬к0├К┬▒PWM  ├Р┬┤├И├л├Ц┬╡
	
	Uint16	ReferenceFrameMode;		//├Ч├╕┬▒├к├П┬╡├Д┬г├Р├Н

	INT40AXIS PositionCoordinate1; 
	INT40AXIS PositionCoordinate2; 
	INT40AXIS PositionCoordinate3; 
	INT40AXIS PositionCoordinate4; 
	INT40AXIS PositionCoordinate5; 
	INT40AXIS PositionCoordinate6; 
	INT40AXIS PositionCoordinate7; 
	INT40AXIS PositionCoordinate8; 
	INT40AXIS PositionCoordinate9; 
	INT40AXIS PositionCoordinate10; 	

	INT40AXIS SafeCoordinate;
	INT40AXIS BackCoordinate;
	INT40AXIS OffsetCoordinate;

	INT32U  LEDFlashTime1;
	INT32U  LEDFlashTime2;
	
	UINT16AXIS	AxisCompMaxL;	
	UINT16AXIS	CompensationDirection;
	
	UINT40AXIS	Gap;				 			//╓с╝ф╧╢╓╡,╡е╬╗: ╫ю╨б╩ф╚ы╡е╬╗
	UINT40AXIS	GapPulse;					//╓с╝ф╧╢╓╡,╡е╬╗: ╩ф│Ў╓╕┴ю╡е╬╗
}SYSTEM;	

typedef struct
{
	int			EncoderTotalPulseSingleRotation;
	int 			Pn20E;//Electronic Gear Ratio(Numerator)
	int 			Pn210;//Electronic Gear Ratio(Denominator)
	int 			Pn212;//Number of Encoder Output Pulses (P/rev)
	
	float64	PWM_PeriodRegister;				// PWM ├В├╢┬│├е┬╖┬в├Й├║├Ж├╖├Ц├Ь├Ж├Ъ  CH0906
   	volatile Uint16 *PWM_Port;				//PWM 32BITS address
	
	volatile Uint16	*LPM_CounterPort;	//LPM counter 16bits address 
	Uint16 LPM_CounterRegister;			// LPM ├К├д┬│├╢┬╝├Ж├К├╜├Ц┬╡
	
	float64 AxisOutUnitEQU;				//UNIT: pulse/├Ч├о├Р┬б├К├д┬│├╢┬╡┬е├О┬╗
}SERVO;

typedef struct
{
UINT16AXIS	EncoderError;		// ├Ц├б┬╣├в├Х┬д┬│├Я┬▒┬и┬╛┬п   1--┬▒┬и┬╛┬п

	Uint16 NCCodeBreak;					//ARM┬╖┬в├Л├НG┬┤├║├В├л┬▓┬╗├Б┬м├Р├╕
	Uint16 InterpolationOver;			//┬▓├е┬▓┬╣├Б┬┐┬│┬м5mm┬▒┬и┬╛┬п
	Uint16 TrackRunOutError;			//┬╣├м┬╝┬г├Ж┬л├А├л┬▒┬и┬╛┬п
	Uint16 HaveGetErrorDataSign;		//├Т├С┬╜├Ш├И┬б┬┤├н├О├│├К├╜┬╛├Э┬▒├к├Ц┬╛, when ARM ->RET
 	Uint16 RealRunCount;				//├Т├С┬╜├Ш├И┬б┬┤├н├О├│├К├╜┬╛├Э├Ф├Л├Р├Р├М├╡├К├╜	
	Uint16 		InsideRAMCheckError;		// ├Д├Ъ┬▓┬┐RAM ├Р┬г├С├й┬┤├н├О├│
	Uint16 		OutsideRAMCheckError;		// ├Н├в┬▓┬┐RAM ├Р┬г├С├й┬┤├н├О├│
	Uint16 		MainErrorSign;				//├Ч├Ь┬┤├н├О├│┬▒├к├Ц┬╛
	Uint16		AlmHLimitPos;
	Uint16		AlmHLimitNeg;
	Uint16		AlmSLimitPos;
	Uint16		AlmSLimitNeg;
	UINT16AXIS ServoAlarm;							//├Л├Е┬╖├╛┬▒┬и┬╛┬п		1:┬▒┬и┬╛┬п├У├Р├Р┬з	
	Uint16 		CompDataCheckError;				// ╖╟╧▀╨╘▓╣│е╩¤╛▌╨г╤щ┤э╬є
	Uint16		OpticalFlashTriggerBreakError; //OpticalFlashTriggerBreak
	Uint16		CameraShutterTriggerBreakError; //CameraShutterTriggerBreak
	Uint16		LensPositionBreakError;
}ERROR;		//┬▒┬и┬╛┬п┬╜├б┬╣┬╣├Ч├й


typedef struct
{
	Uint16	CodeRun_Over;               	// 1--├Н├к┬│├Й┬╡┬▒├З┬░G┬┤├║├В├лXYZ├Ц├б├Ф├Л├Р├Р
	UINT16MODULE CodeRun_Over_Module;
	Uint16	PrecalCode;					// 1--├Т├С├Ф┬д├П├И┬╝├Ж├Л├гG┬┤├║├В├л
	Uint16 	GetPositionSign;			//1--├Р├и┬╗├▒┬╡├Г├О├И┬╢┬и┬╖┬┤├А┬б├Ч├╕┬▒├к├Ц┬╡┬▒├к├Ц┬╛
	Uint16	NewAreaSign;				//├Р├В├З├╕├У├▓┬▒├к├Ц┬╛
	float64    	F;			//G┬┤├║├В├л├Й├и┬╢┬и┬╜├╕┬╕├╕├Л├Щ┬╢├И  (mm/s)
	float64   	FG0;		//G0┬┤├║├В├л├Й├и┬╢┬и┬╜├╕┬╕├╕├Л├Щ┬╢├И (mm/s)
	Uint32 	RealSendCount;		//ARM├К┬╡┬╝├К┬╖┬в├Л├Н┬╖├Ц┬╜├в┬┤├║├В├л├О┬╗├Ц├Г├Ц┬╕├Х├л
	Uint32 	RealRunCount;		//DSP├К┬╡┬╝├К├Ф├Л├Р├Р┬╖├Ц┬╜├в┬┤├║├В├л├О┬╗├Ц├Г├Ц┬╕├Х├л
	Uint32	LastRealSendCount;	//┬┤├▓├И├л┬╣┬л┬╣┬▓├З├╕├У├▓├К┬▒┬╝┬░┬╡┬е┬╢├О├К┬▒├К┬╣├У├Г
	Uint32	Information32[3];	// SPC┬┤├║├В├л32├О┬╗├Р├Е├П┬в
	Uint32	EndCodeCount;		//├Л├Щ┬╢├И├О┬к0┬╡├Д┬┤├║├В├л├М├╡
	Uint32	LastEndCodeCount;	//
	Uint32	VeVmCalCount;		//├Й├П┬┤├О┬╝├Ж├Л├г┬╣├╜Ve,Vm┬╡├Д┬┤├║├В├л├М├╡
	Uint16	ResendGcodeSign;		//Arm├Ц├Ш┬╖┬в┬┤├║├В├л┬▒├к├Ц┬╛.1:├Ц├Ш┬╖┬в.	
	UINT16AXIS	NeedBack;					//0:  1:positive compensation 2:negtive compensation 
}NC_RUN_SIGN;

typedef struct
{
	Uint16		SearchRefSign;			// ├Т┬к├З├│├Л├С├Л├╖┬▓├О┬┐┬╝┬╡├г┬▒├к├Ц┬╛
	Uint16		RefStep;				//┬▓├О┬┐┬╝┬╡├г├Л├С├Л├╖┬▓┬╜├Ц├и
	UINT16AXIS	NeedFindAxisSign;		// ├Р├и├Т┬к├Л├С├Л├╖├Ц├б┬╡├Д┬▒├к├Ц┬╛
	UINT16AXIS	FindRefSign;			// ├Т├С├Х├Т┬╡┬╜├Д┬│├Ц├б┬▓├О┬┐┬╝┬╡├г┬▒├к├Ц┬╛
	Uint16		PreSearchRefSign;		// ├Л├С├Л├╖┬▓├О┬┐┬╝┬╡├г├З┬░┬│├╡├К┬╝┬╗┬п┬▒├к├Ц┬╛
}REFERENCE;

//┬▓├е┬▓┬╣├К├д┬│├╢┬╗┬║┬│├е├З├╕  CH0902
typedef struct
{
	INT40AXIS	DeltaPulse;			//┬╗┬║┬│├е├З├╕:  (┬╡┬е├О┬╗: ┬▓├е┬▓┬╣┬╢├О├К├д┬│├╢├Ц┬╕├Б├о┬╡┬е├О┬╗)
	INT40AXIS	MACHPosition;		//┬╗┬║┬│├е├З├╕:  (┬╡┬е├О┬╗: ┬▓├е┬▓┬╣├О┬╗├Ц├Г├К├д┬│├╢├Ц┬╕├Б├о┬╡┬е├О┬╗)
	UINT16AXIS 	PWM_PeriodRegister;			                                     
	UINT16AXIS 	SIGN;                                      
}INTERPOLATION_BUFFER;

typedef struct 			//┬▒├а├В├л├Ж├╖├К├╜┬╛├Э┬╜├б┬╣┬╣├М├е
{
	INT16U	OldMACHValue_Low;
	INT16S	OldMACHValue_High;
	INT16U	NowMACHValue_Low;
	INT16S	NowMACHValue_High;

	Int32 	OldEncoderValue;			// я┐╜я┐╜я┐╜я┐╜я┐╜я┐╜я┐╜я┐╜я┐╜я┐╜я┐╜я┐╜я┐╜я┐╜я┐╜╓╡
	Int32 	NowEncoderValue;			// я┐╜я┐╜я┐╜я┐╜я┐╜я┐╜я┐╜я┐╜я┐╜я┐╜я┐╜я┐╜я┐╜я┐╜я┐╜╓╡
	Int32   	MACH_PositionValue;			// я┐╜я┐╜я┐╜я┐╜я┐╜я┐╜я┐╜я┐╜я┐╜я┐╜я┐╜╩╡я┐╜я┐╜╬╗я┐╜я┐╜╓╡   UNIT:я┐╜я┐╜╨бя┐╜я┐╜я┐╜ы╡е╬╗(A4/A5/Spindle)
    	Int32   	MACH_PositionValueout;		// я┐╜я┐╜я┐╜я┐╜я┐╜я┐╜я┐╜я┐╜я┐╜я┐╜я┐╜╩╡я┐╜я┐╜я┐╜я┐╜я┐╜ ╬╗я┐╜я┐╜╓╡
	Uint16	EncoderDIR;							// я┐╜я┐╜я┐╜я┐╜я┐╜я┐╜я┐╜я┐╜я┐╜я┐╜я┐╜я┐╜я┐╜я┐╜  0:я┐╜я┐╜я┐╜я┐╜
	float64	Resolution;							// я┐╜╓▒я┐╜я┐╜я┐╜UNIT: я┐╜я┐╜╨бя┐╜я┐╜я┐╜ы╡е╬╗/pulse
	volatile Int32 *LPM_CounterPort_Low;	// LPM я┐╜я┐╜я┐╜я┐╜я┐╜я┐╜я┐╜я┐╜я┐╜я┐╜┌╡я┐╜╓╖
	volatile Int32 *LPM_CounterPort_High;	// LPM я┐╜я┐╜я┐╜я┐╜я┐╜я┐╜я┐╜я┐╜я┐╜я┐╜┌╡я┐╜╓╖
}ENCODER;

typedef struct 
{
	Int32 	OldValue;			
	Int32 	NowValue;	

	Int32 	OldValue_G114;			
	Int32 	NowValue_G114;	
	float64 	AverageValue_G114;
	float64	Resolution;					
	volatile Uint16 *PMT_CounterPort_Low;
	volatile Uint16 *PMT_CounterPort_High;
}PMT;


typedef struct
{
	float64AXIS Value_Linear;		//╣т╒д│▀╫°▒ъ╓╡   		╡е╬╗: ╫ю╨б╩ф╚ы╡е╬╗
	float64AXIS Value_Laser ;		//╝д╣т╩╡▓т╫°▒ъ╓╡  	╡е╬╗: ╫ю╨б╩ф╚ы╡е╬╗
}AxisCompensation;   


typedef struct
{ 
	Uint16 DA_CS; 	
	Uint16 DA_ADDR;
	Uint16 DA_Data;
	
	Uint16 AutoSign; // 1
	Uint16 Voltage_Max;  //uint:0.01V
	Uint16 Voltage_Start; //uint:0.01V
	Uint16 CycleNum; //num
	
	Uint16 RiseCount; //uint:0.1ms
	Uint16 FallCount;  //uint:0.1ms
	Uint16 HKeepCount;  //uint:0.1ms
	Uint16 LKeepCount; //uint:0.1ms
	Uint16 HIncrument; 
	Uint16 LIncrument; 
	Uint16 HDividedNum; 
	Uint16 LDividedNum; 
	
	Uint16 PWMHighCount; //uint:0.1us
	Uint16 PWMLowCount;  //uint:0.1us
	Uint16 PWMPhase;  //uint:0.1us
}DACONVERT; 


#endif  // end of DSP6713_COMMON_H definition


